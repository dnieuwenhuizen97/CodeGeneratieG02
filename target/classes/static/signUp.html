<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign Up</title>
</head>
<body>
<div class="navbar">
    <a href="http://localhost:8080/login.html">Login</a>
    <a href="http://localhost:8080/machine.html">Machine</a>
    <a href="http://localhost:8080/index.html">Home</a>
    <a href="http://localhost:8080/signUp.html">SignUp</a>
</div>

<form id="signupform">

    <br>
    <label>First Name: </label> <input name="firstName"><br>
    <label>Last Name:</label> <input name="lastName"><br>
    <label>Email: </label> <input name="email"><br>
    <label>Password: </label> <input name="password" type="password"><br>
    <label>User Type: </label> <input name="user_type"><br>
    <br />
    <input type="button" id="signUpUser" value="SignUp" onclick="POSTUser()">
</form>

<script>

    function POSTUser() {

       var xhr =  new XMLHttpRequest();
        xhr.open('POST','http://localhost:8080/users');
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.setRequestHeader("ApiKeyAuth", sessionStorage.getItem("AuthToken"));
        xhr.onload= (e) => {
            alert(xhr.status);
        }
        xhr.send(JSON.stringify(
            {
                "firstName": document.forms["signupform"]["firstName"].value ,
                "lastName": document.forms["signupform"]["lastName"].value ,
                "email": document.forms["signupform"]["email"].value ,
                "password": document.forms["signupform"]["password"].value,
                "user_type": document.forms["signupform"]["user_type"].value
            }
        ));

    }
</script>
</body>
</html>